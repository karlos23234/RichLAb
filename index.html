<!DOCTYPE html>
<html lang="hy">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rich Birds</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 50%, #ffffff 100%);
            min-height: 100%;
            color: #333;
            overflow-x: hidden;
        }
        
        html, body {
            height: 100%;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100%;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .balance-card {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 25px;
            text-align: center;
            border: 1px solid #e9ecef;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .balance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .balance-card:hover::before {
            left: 100%;
        }
        
        .balance-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }
        
        .balance-amount {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .balance-label {
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        .birds-section {
            background: #ffffff;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .bird-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #e9ecef;
        }
        
        .bird-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bird-icon {
            font-size: 1.5rem;
        }
        
        .bird-details h4 {
            margin: 0;
            font-size: 1rem;
        }
        
        .bird-details p {
            margin: 5px 0 0 0;
            opacity: 0.8;
            font-size: 0.8rem;
        }
        
        .bird-count {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 5px 12px;
            font-weight: bold;
        }
        
        .actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .btn {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 15px 20px;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 350px;
            color: #333;
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.2);
            border: 1px solid #e9ecef;
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-group select,
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: #ffffff;
            color: #333;
            font-size: 1rem;
            box-sizing: border-box;
        }
        
        .form-group select option {
            background: #ffffff;
            color: #333;
        }
        
        .form-group input::placeholder {
            color: #6c757d;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .btn-close {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            display: none;
            z-index: 1001;
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .min-amount {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            z-index: 100;
            box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 5px 15px;
            border-radius: 10px;
        }
        
        .nav-item.active {
            background: #f8f9fa;
            color: #007bff;
        }
        
        .nav-item:hover {
            background: #f8f9fa;
        }
        
        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .nav-label {
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .page {
            display: none;
            padding-bottom: 100px;
        }
        
        .page.active {
            display: block;
        }
        
        .referral-code {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .referral-link {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 10px;
            font-family: monospace;
            font-size: 0.9rem;
            word-break: break-all;
            margin: 10px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }
        
        .profile-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }
        
        .profile-info h3 {
            margin: 0 0 5px 0;
            font-size: 1.2rem;
        }
        
        .profile-info p {
            margin: 0;
            opacity: 0.7;
            font-size: 0.9rem;
        }
        
        .toggle-switch {
            width: 50px;
            height: 25px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active {
            background: #4CAF50;
        }
        
        .toggle-slider {
            width: 21px;
            height: 21px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(25px);
        }
        
        .channel-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #e9ecef;
        }
        
        .channel-item.joined {
            background: #e8f5e8;
            border-color: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">🐦💰</div>
            <h1 class="title">Rich Birds</h1>
        </header>
        
        <!-- Menu Page -->
        <div class="page active" id="menu-page">
            <div class="balance-card">
                <div class="balance-amount" id="balance">0 ֏</div>
                <div class="balance-label">Ձեր մնացորդը</div>
            </div>
            
            <div class="balance-card">
                <div style="font-size: 1.2rem; margin-bottom: 10px;">Կուտակված եկամուտ</div>
                <div style="font-size: 1.5rem; font-weight: bold;" id="accumulated-income">0 ֏</div>
                <button class="btn btn-primary" onclick="collectAccumulatedIncome()" style="margin-top: 15px;">
                    Հավաքել եկամուտը
                </button>
            </div>
            
            <div class="balance-card">
                <div style="font-size: 1.2rem; margin-bottom: 10px;">Ժամային եկամուտ</div>
                <div style="font-size: 1.5rem; font-weight: bold;" id="hourly-income">0 ֏</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-birds">0</div>
                    <div class="stat-label">Ընդամենը թռչուններ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-referrals">0</div>
                    <div class="stat-label">Հրավիրված ընկերներ</div>
                </div>
            </div>
        </div>
        
        <!-- Wallet Page -->
        <div class="page" id="wallet-page">
            <div class="balance-card">
                <div class="balance-amount" id="wallet-balance">0 ֏</div>
                <div class="balance-label">Ձեր մնացորդը</div>
            </div>
            
            <div class="actions">
                <button class="btn btn-primary" onclick="openDepositModal()">Ավանդ</button>
                <button class="btn btn-secondary" onclick="openWithdrawModal()">Վերցնել</button>
            </div>
        </div>
        
        <!-- Referral Page -->
        <div class="page" id="referral-page">
            <div class="birds-section">
                <h2 class="section-title">Telegram ալիքներ</h2>
                <p style="text-align: center; opacity: 0.8; margin-bottom: 20px;">
                    Միացեք մեր ալիքներին և ստացեք 1 հավիկ յուրաքանչյուրի համար
                </p>
                
                <div id="telegram-channels">
                    <!-- Channels will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="birds-section">
                <h2 class="section-title">Հրավիրել ընկերներ</h2>
                <p style="text-align: center; opacity: 0.8; margin-bottom: 20px;">
                    Հրավիրեք ընկերներին և ստացեք 1 հավիկ յուրաքանչյուր նոր օգտատիրոջ համար
                </p>
                
                <div class="referral-code">
                    <div style="font-weight: bold; margin-bottom: 10px;">Ձեր հրավիրման կոդը</div>
                    <div class="referral-link" id="referral-link">
                        https://t.me/richbirds_bot?start=REF123456
                    </div>
                    <button class="btn btn-primary" onclick="copyReferralLink()" style="margin-top: 10px;">
                        Պատճենել հղումը
                    </button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="ref-count">0</div>
                        <div class="stat-label">Հրավիրված</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="ref-earnings">0 ֏</div>
                        <div class="stat-label">Վաստակած</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Birds Page -->
        <div class="page" id="birds-page">
            <div class="birds-section">
                <h2 class="section-title">Ձեր թռչունները</h2>
                <div class="bird-item">
                    <div class="bird-info">
                        <div class="bird-icon">🐣</div>
                        <div class="bird-details">
                            <h4>Ձու (1 հատ)</h4>
                            <p>Տալիս է 10 ֏ ժամում</p>
                            <p>Արժեք՝ 1000 ֏</p>
                        </div>
                    </div>
                    <div class="bird-count" id="eggs-count">0</div>
                </div>
                
                <div class="bird-item">
                    <div class="bird-info">
                        <div class="bird-icon">🐤</div>
                        <div class="bird-details">
                            <h4>Ճուտ (25 հատ)</h4>
                            <p>Տալիս է 25 ֏ ժամում</p>
                            <p>Արժեք՝ 2300 ֏</p>
                        </div>
                    </div>
                    <div class="bird-count" id="chicks-count">0</div>
                </div>
            </div>
            
            <div class="actions">
                <button class="btn" onclick="buyEgg()">Գնել ձու (1000 ֏)</button>
                <button class="btn" onclick="buyChicks()">Գնել ճուտեր (2300 ֏)</button>
            </div>
            
            <div class="actions">
                <button class="btn btn-primary" onclick="collectEggs()" id="collectBtn">Հավաքել ձվեր</button>
            </div>
            
            <div class="birds-section">
                <h2 class="section-title">Հավաքված թռչուններ</h2>
                <div id="collected-birds">
                    <!-- Collected birds will appear here -->
                </div>
            </div>
        </div>
        
        <!-- Support Page -->
        <div class="page" id="support-page">
            <div class="birds-section">
                <h2 class="section-title">Օգնություն և աջակցություն</h2>
                
                <div class="bird-item" onclick="openSupportChat()">
                    <div class="bird-info">
                        <div class="bird-icon">💬</div>
                        <div class="bird-details">
                            <h4>Չատ աջակցություն</h4>
                            <p>24/7 օնլայն աջակցություն</p>
                        </div>
                    </div>
                    <div style="color: #4CAF50; font-size: 1.2rem;">●</div>
                </div>
                
                <div class="bird-item" onclick="openFAQ()">
                    <div class="bird-info">
                        <div class="bird-icon">❓</div>
                        <div class="bird-details">
                            <h4>Հաճախ տրվող հարցեր</h4>
                            <p>Գտեք պատասխանները</p>
                        </div>
                    </div>
                    <div style="opacity: 0.5;">→</div>
                </div>
                
                <div class="bird-item" onclick="reportBug()">
                    <div class="bird-info">
                        <div class="bird-icon">🐛</div>
                        <div class="bird-details">
                            <h4>Հաղորդել խնդրի մասին</h4>
                            <p>Օգնեք մեզ բարելավել</p>
                        </div>
                    </div>
                    <div style="opacity: 0.5;">→</div>
                </div>
                
                <div class="bird-item">
                    <div class="bird-info">
                        <div class="bird-icon">📱</div>
                        <div class="bird-details">
                            <h4>Telegram</h4>
                            <p>@richbirds_support</p>
                        </div>
                    </div>
                    <button class="btn" onclick="copyTelegram()" style="padding: 8px 16px; font-size: 0.8rem;">Պատճենել</button>
                </div>
            </div>
        </div>
        
        <!-- Profile Page -->
        <div class="page" id="profile-page">
            <div class="birds-section">
                <h2 class="section-title">Իմ պրոֆիլը</h2>
                
                <div class="profile-header">
                    <div class="profile-avatar" onclick="changeProfilePicture()" style="cursor: pointer; position: relative;">
                        <img id="profile-image" src="" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; display: none;">
                        <div id="profile-placeholder" style="font-size: 1.8rem;">👤</div>
                        <div style="position: absolute; bottom: -5px; right: -5px; background: #4CAF50; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; border: 2px solid white;">📷</div>
                    </div>
                    <div class="profile-info">
                        <h3 id="username">Օգտատեր #123456</h3>
                        <p>Անդամ է՝ <span id="join-date">01.01.2024</span>-ից</p>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="profile-balance">0 ֏</div>
                        <div class="stat-label">Ընդհանուր մնացորդ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="profile-earned">0 ֏</div>
                        <div class="stat-label">Ընդհանուր վաստակած</div>
                    </div>
                </div>
                
                <div class="bird-item" onclick="changeUsername()">
                    <div class="bird-info">
                        <div class="bird-icon">✏️</div>
                        <div class="bird-details">
                            <h4>Փոխել անունը</h4>
                            <p>Կարգավորել ցուցանակ անունը</p>
                        </div>
                    </div>
                    <div style="opacity: 0.5;">→</div>
                </div>
                
                <div class="bird-item" onclick="toggleNotifications()">
                    <div class="bird-info">
                        <div class="bird-icon">🔔</div>
                        <div class="bird-details">
                            <h4>Ծանուցումներ</h4>
                            <p id="notification-status">Միացված</p>
                        </div>
                    </div>
                    <div class="toggle-switch active" id="notification-toggle">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                
                <div class="bird-item" onclick="exportData()">
                    <div class="bird-info">
                        <div class="bird-icon">📊</div>
                        <div class="bird-details">
                            <h4>Արտահանել տվյալները</h4>
                            <p>Ներբեռնել ձեր տվյալները</p>
                        </div>
                    </div>
                    <div style="opacity: 0.5;">→</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchPage('menu')">
            <div class="nav-icon">🏠</div>
            <div class="nav-label">Menu</div>
        </div>
        <div class="nav-item" onclick="switchPage('wallet')">
            <div class="nav-icon">💰</div>
            <div class="nav-label">Wallet</div>
        </div>
        <div class="nav-item" onclick="switchPage('referral')">
            <div class="nav-icon">👥</div>
            <div class="nav-label">Referral</div>
        </div>
        <div class="nav-item" onclick="switchPage('birds')">
            <div class="nav-icon">🐦</div>
            <div class="nav-label">Birds</div>
        </div>
        <div class="nav-item" onclick="switchPage('support')">
            <div class="nav-icon">🛠️</div>
            <div class="nav-label">Support</div>
        </div>
        <div class="nav-item" onclick="switchPage('profile')">
            <div class="nav-icon">👤</div>
            <div class="nav-label">Profile</div>
        </div>
    </div>
    
    <!-- Deposit Modal -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ավանդ կատարել</h3>
            </div>
            <form onsubmit="processDeposit(event)">
                <div class="form-group">
                    <label for="depositMethod">Ավանդի եղանակ</label>
                    <select id="depositMethod" required onchange="showWalletAddress()">
                        <option value="">Ընտրեք եղանակը</option>
                        <option value="dash">Dash</option>
                        <option value="usdt">USDT TRC-20</option>
                    </select>
                </div>
                <div class="form-group" id="walletAddress" style="display: none;">
                    <label>Հասցե</label>
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; word-break: break-all; font-family: monospace; font-size: 0.9rem;" id="addressText"></div>
                    <button type="button" onclick="copyAddress()" style="margin-top: 8px; padding: 8px 16px; background: rgba(255,255,255,0.2); border: none; border-radius: 6px; color: white; cursor: pointer;">Պատճենել</button>
                </div>
                <div class="form-group">
                    <label for="depositAmount">Գումար (֏)</label>
                    <input type="number" id="depositAmount" placeholder="Նվազագույնը 1000 ֏" min="1000" required>
                    <div class="min-amount">Նվազագույն ավանդ՝ 1000 ֏</div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Ավանդ կատարել</button>
                    <button type="button" class="btn btn-close" onclick="closeModal('depositModal')">Փակել</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Withdraw Modal -->
    <div class="modal" id="withdrawModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Գումար վերցնել</h3>
            </div>
            <form onsubmit="processWithdraw(event)">
                <div class="form-group">
                    <label for="withdrawAmount">Գումար (֏)</label>
                    <input type="number" id="withdrawAmount" placeholder="Նվազագույնը 1000 ֏" min="1000" required>
                    <div class="min-amount">Նվազագույն վերցում՝ 1000 ֏</div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-secondary">Վերցնել</button>
                    <button type="button" class="btn btn-close" onclick="closeModal('withdrawModal')">Փակել</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Profile Picture Modal -->
    <div class="modal" id="profilePictureModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ընտրել պրոֆիլի նկար</h3>
            </div>
            <div style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="profileImageUrl">Նկարի հղում (URL)</label>
                    <input type="url" id="profileImageUrl" placeholder="https://example.com/image.jpg">
                    <div class="min-amount">Մուտքագրեք նկարի հղումը</div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="font-weight: bold; margin-bottom: 15px;">Կամ ընտրեք պատրաստի նկարներից</div>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                        <div class="avatar-option" onclick="selectAvatar('👤')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">👤</div>
                        <div class="avatar-option" onclick="selectAvatar('🐦')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🐦</div>
                        <div class="avatar-option" onclick="selectAvatar('🦅')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🦅</div>
                        <div class="avatar-option" onclick="selectAvatar('🐓')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🐓</div>
                        <div class="avatar-option" onclick="selectAvatar('🦜')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🦜</div>
                        <div class="avatar-option" onclick="selectAvatar('🦚')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🦚</div>
                        <div class="avatar-option" onclick="selectAvatar('🦉')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">🦉</div>
                        <div class="avatar-option" onclick="selectAvatar('💎')" style="background: #f8f9fa; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.5rem; border: 2px solid transparent;">💎</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: #f8f9fa; margin: 0 auto; display: flex; align-items: center; justify-content: center; border: 2px solid #e9ecef;">
                        <img id="preview-image" src="" alt="Preview" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; display: none;">
                        <div id="preview-placeholder" style="font-size: 2rem;">👤</div>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem; opacity: 0.7;">Նկարի նախադիտում</div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button type="button" class="btn btn-primary" onclick="saveProfilePicture()">Պահպանել</button>
                <button type="button" class="btn btn-close" onclick="closeModal('profilePictureModal')">Փակել</button>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        let gameData = {
            balance: 0,
            eggs: 0,
            chicks: 0,
            lastCollected: Date.now(),
            collectedBirds: [],
            nextCollectTime: 0,
            referrals: 0,
            referralEarnings: 0,
            referralCode: 'REF' + Math.random().toString(36).substr(2, 6).toUpperCase(),
            lastIncomeCollection: Date.now(),
            accumulatedIncome: 0,
            username: 'Օգտատեր #' + Math.floor(Math.random() * 100000),
            joinDate: new Date().toLocaleDateString('hy-AM'),
            telegramChannels: [
                { name: 'Rich Birds News', url: 'https://t.me/richbirds_news', joined: false, reward: 1 },
                { name: 'Rich Birds Chat', url: 'https://t.me/richbirds_chat', joined: false, reward: 1 },
                { name: 'Crypto Armenia', url: 'https://t.me/crypto_armenia', joined: false, reward: 1 }
            ],
            totalEarned: 0,
            profilePicture: null,
            profilePictureType: 'emoji' // 'emoji' or 'url'
        };
        
        let selectedProfilePicture = null;
        let selectedProfileType = 'emoji';
        
        const birdTypes = [
            { name: 'Արծիվ', icon: '🦅', rarity: 'rare', income: 50 },
            { name: 'Կարապ', icon: '🦆', rarity: 'common', income: 15 },
            { name: 'Ծիծեռնակ', icon: '🐦', rarity: 'common', income: 12 },
            { name: 'Բու', icon: '🦉', rarity: 'uncommon', income: 30 },
            { name: 'Կաքավ', icon: '🦜', rarity: 'uncommon', income: 25 },
            { name: 'Դրամանոց', icon: '🦚', rarity: 'legendary', income: 100 },
            { name: 'Ոսկե թռչուն', icon: '🐓', rarity: 'epic', income: 75 }
        ];
        
        // Load saved data
        function loadGameData() {
            const saved = localStorage.getItem('richBirdsData');
            if (saved) {
                const savedData = JSON.parse(saved);
                gameData = { ...gameData, ...savedData };
                collectPassiveIncome();
            }
            updateDisplay();
            displayTelegramChannels();
        }
        
        // Save game data
        function saveGameData() {
            localStorage.setItem('richBirdsData', JSON.stringify(gameData));
        }
        
        // Update display
        function updateDisplay() {
            // Update balance on all pages
            document.getElementById('balance').textContent = gameData.balance.toLocaleString() + ' ֏';
            document.getElementById('wallet-balance').textContent = gameData.balance.toLocaleString() + ' ֏';
            
            // Update bird counts
            document.getElementById('eggs-count').textContent = gameData.eggs;
            document.getElementById('chicks-count').textContent = gameData.chicks;
            
            // Calculate hourly income
            const collectedBirdsIncome = gameData.collectedBirds.reduce((total, bird) => total + bird.income, 0);
            const hourlyIncome = (gameData.eggs * 10) + (gameData.chicks * 25) + collectedBirdsIncome;
            document.getElementById('hourly-income').textContent = hourlyIncome.toLocaleString() + ' ֏';
            
            // Update accumulated income
            document.getElementById('accumulated-income').textContent = gameData.accumulatedIncome.toLocaleString() + ' ֏';
            
            // Update stats
            const totalBirds = gameData.eggs + gameData.chicks + gameData.collectedBirds.length;
            document.getElementById('total-birds').textContent = totalBirds;
            document.getElementById('total-referrals').textContent = gameData.referrals;
            
            // Update referral stats
            document.getElementById('ref-count').textContent = gameData.referrals;
            document.getElementById('ref-earnings').textContent = gameData.referralEarnings.toLocaleString() + ' ֏';
            
            // Update referral link
            document.getElementById('referral-link').textContent = `https://t.me/richbirds_bot?start=${gameData.referralCode}`;
            
            updateCollectButton();
            displayCollectedBirds();
            updateProfileDisplay();
        }
        
        // Collect passive income - realistic hourly system
        function collectPassiveIncome() {
            const now = Date.now();
            const timePassed = now - gameData.lastIncomeCollection;
            const hoursPassed = timePassed / (1000 * 60 * 60);
            
            if (hoursPassed >= 1) {
                const hoursToCollect = Math.floor(hoursPassed);
                const collectedBirdsIncome = gameData.collectedBirds.reduce((total, bird) => total + bird.income, 0);
                const hourlyIncome = (gameData.eggs * 10) + (gameData.chicks * 25) + collectedBirdsIncome;
                const totalIncome = hourlyIncome * hoursToCollect;
                
                if (totalIncome > 0) {
                    gameData.accumulatedIncome += totalIncome;
                    showNotification(`Կուտակվել է ${totalIncome.toLocaleString()} ֏ ժամային եկամուտ!`, 'success');
                }
                
                gameData.lastIncomeCollection = now;
                saveGameData();
            }
        }
        
        // Collect accumulated income
        function collectAccumulatedIncome() {
            if (gameData.accumulatedIncome > 0) {
                const amount = gameData.accumulatedIncome;
                gameData.balance += amount;
                gameData.totalEarned += amount;
                gameData.accumulatedIncome = 0;
                animateBalanceIncrease(amount);
                saveGameData();
                updateDisplay();
                showNotification(`Հավաքվել է ${amount.toLocaleString()} ֏ կուտակված եկամուտ!`, 'success');
            } else {
                showNotification('Կուտակված եկամուտ չկա!', 'error');
            }
        }
        
        // Display Telegram channels
        function displayTelegramChannels() {
            const container = document.getElementById('telegram-channels');
            container.innerHTML = gameData.telegramChannels.map((channel, index) => `
                <div class="channel-item ${channel.joined ? 'joined' : ''}">
                    <div class="bird-info">
                        <div class="bird-icon">📱</div>
                        <div class="bird-details">
                            <h4>${channel.name}</h4>
                            <p>${channel.joined ? 'Միացած ✅' : 'Միացեք և ստացեք 1 հավիկ'}</p>
                        </div>
                    </div>
                    ${channel.joined ? 
                        '<div style="color: #4CAF50; font-size: 1.2rem;">✅</div>' : 
                        `<button class="btn btn-success" onclick="joinTelegramChannel(${index})">Միանալ</button>`
                    }
                </div>
            `).join('');
        }
        
        // Join Telegram channel
        function joinTelegramChannel(index) {
            const channel = gameData.telegramChannels[index];
            
            // Open Telegram channel in new tab
            window.open(channel.url, '_blank', 'noopener,noreferrer');
            
            // Simulate joining after 3 seconds
            setTimeout(() => {
                if (!channel.joined) {
                    channel.joined = true;
                    
                    // Add reward bird
                    const rewardBird = {
                        name: `${channel.name} հավիկ`,
                        icon: '🐓',
                        income: 20,
                        id: Date.now() + Math.random()
                    };
                    
                    gameData.collectedBirds.push(rewardBird);
                    gameData.referralEarnings += 20;
                    
                    saveGameData();
                    updateDisplay();
                    displayTelegramChannels();
                    showNotification(`Շնորհակալություն! Ստացել եք 1 հավիկ ${channel.name}-ի համար!`, 'success');
                }
            }, 3000);
        }
        
        // Update collect button
        function updateCollectButton() {
            const collectBtn = document.getElementById('collectBtn');
            const now = Date.now();
            
            if (now >= gameData.nextCollectTime) {
                collectBtn.disabled = false;
                collectBtn.textContent = 'Հավաքել ձվեր';
                collectBtn.style.opacity = '1';
            } else {
                collectBtn.disabled = true;
                const timeLeft = Math.ceil((gameData.nextCollectTime - now) / 1000);
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                collectBtn.textContent = `Սպասել ${minutes}:${seconds.toString().padStart(2, '0')}`;
                collectBtn.style.opacity = '0.6';
            }
        }
        
        // Display collected birds
        function displayCollectedBirds() {
            const container = document.getElementById('collected-birds');
            if (gameData.collectedBirds.length === 0) {
                container.innerHTML = '<p style="text-align: center; opacity: 0.7;">Դեռ թռչուններ չեք հավաքել</p>';
                return;
            }
            
            container.innerHTML = gameData.collectedBirds.map(bird => `
                <div class="bird-item">
                    <div class="bird-info">
                        <div class="bird-icon">${bird.icon}</div>
                        <div class="bird-details">
                            <h4>${bird.name}</h4>
                            <p>Տալիս է ${bird.income} ֏ ժամում</p>
                        </div>
                    </div>
                    <div class="bird-count">1</div>
                </div>
            `).join('');
        }
        
        // Collect eggs function with animated balance transfer
        function collectEggs() {
            const now = Date.now();
            if (now < gameData.nextCollectTime) {
                showNotification('Դեռ ժամանակը չի հասել!', 'error');
                return;
            }
            
            // Random bird selection
            const randomBird = birdTypes[Math.floor(Math.random() * birdTypes.length)];
            const newBird = {
                ...randomBird,
                id: Date.now() + Math.random()
            };
            
            gameData.collectedBirds.push(newBird);
            gameData.nextCollectTime = now + (5 * 60 * 1000); // 5 minutes
            
            // Animate balance increase
            const earnedAmount = newBird.income * 10; // Bonus for collecting
            animateBalanceIncrease(earnedAmount);
            gameData.balance += earnedAmount;
            gameData.totalEarned += earnedAmount;
            
            saveGameData();
            updateDisplay();
            showNotification(`Հավաքվել է ${newBird.name} ${newBird.icon}! +${earnedAmount} ֏`, 'success');
        }
        
        // Animate balance increase
        function animateBalanceIncrease(amount) {
            const balanceElement = document.getElementById('balance');
            const walletBalanceElement = document.getElementById('wallet-balance');
            
            // Create floating animation
            const floatingText = document.createElement('div');
            floatingText.textContent = `+${amount.toLocaleString()} ֏`;
            floatingText.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #4CAF50;
                font-size: 1.5rem;
                font-weight: bold;
                z-index: 1002;
                pointer-events: none;
                animation: floatUp 2s ease-out forwards;
            `;
            
            // Add keyframe animation
            if (!document.getElementById('floatUpStyle')) {
                const style = document.createElement('style');
                style.id = 'floatUpStyle';
                style.textContent = `
                    @keyframes floatUp {
                        0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                        50% { opacity: 1; transform: translate(-50%, -70%) scale(1.2); }
                        100% { opacity: 0; transform: translate(-50%, -100%) scale(0.8); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(floatingText);
            
            // Remove after animation
            setTimeout(() => {
                if (floatingText.parentNode) {
                    floatingText.parentNode.removeChild(floatingText);
                }
            }, 2000);
            
            // Animate balance counters
            animateCounter(balanceElement, gameData.balance - amount, gameData.balance);
            animateCounter(walletBalanceElement, gameData.balance - amount, gameData.balance);
        }
        
        // Animate counter
        function animateCounter(element, start, end) {
            const duration = 1000;
            const startTime = Date.now();
            
            function update() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(start + (end - start) * progress);
                
                element.textContent = current.toLocaleString() + ' ֏';
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            update();
        }
        
        // Wallet addresses
        const walletAddresses = {
            dash: 'XjK9mN2pQ7rS8tU3vW4xY5zA6bC7dE8fG9hI0jK1lM2nO3pQ4rS5tU6vW7xY8zA9',
            usdt: 'TQn9Y8va7HyqN6jRTU3vW4xY5zA6bC7dE8fG9hI0jK1lM2nO3pQ4rS5tU6vW7xY8zA'
        };
        
        // Show wallet address
        function showWalletAddress() {
            const method = document.getElementById('depositMethod').value;
            const addressDiv = document.getElementById('walletAddress');
            const addressText = document.getElementById('addressText');
            
            if (method && walletAddresses[method]) {
                addressText.textContent = walletAddresses[method];
                addressDiv.style.display = 'block';
            } else {
                addressDiv.style.display = 'none';
            }
        }
        
        // Copy address
        function copyAddress() {
            const addressText = document.getElementById('addressText').textContent;
            navigator.clipboard.writeText(addressText).then(() => {
                showNotification('Հասցեն պատճենվել է!', 'success');
            }).catch(() => {
                showNotification('Չհաջողվեց պատճենել', 'error');
            });
        }
        
        // Buy egg
        function buyEgg() {
            if (gameData.balance >= 1000) {
                gameData.balance -= 1000;
                gameData.eggs += 1;
                saveGameData();
                updateDisplay();
                showNotification('Գնվել է 1 ձու!', 'success');
            } else {
                showNotification('Անբավարար մնացորդ!', 'error');
            }
        }
        
        // Buy chicks
        function buyChicks() {
            if (gameData.balance >= 2300) {
                gameData.balance -= 2300;
                gameData.chicks += 25;
                saveGameData();
                updateDisplay();
                showNotification('Գնվել է 25 ճուտ!', 'success');
            } else {
                showNotification('Անբավարար մնացորդ!', 'error');
            }
        }
        
        // Open modals
        function openDepositModal() {
            document.getElementById('depositModal').style.display = 'block';
        }
        
        function openWithdrawModal() {
            document.getElementById('withdrawModal').style.display = 'block';
        }
        
        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Process deposit
        function processDeposit(event) {
            event.preventDefault();
            const method = document.getElementById('depositMethod').value;
            const amount = parseInt(document.getElementById('depositAmount').value);
            
            if (amount < 1000) {
                showNotification('Նվազագույն ավանդը 1000 ֏ է!', 'error');
                return;
            }
            
            // Show processing animation
            showProcessingAnimation('Ավանդը մշակվում է...', () => {
                // Simulate blockchain confirmation
                setTimeout(() => {
                    gameData.balance += amount;
                    saveGameData();
                    animateBalanceIncrease(amount);
                    updateDisplay();
                    closeModal('depositModal');
                    showNotification(`✅ Ավանդ հաստատվել է ${amount.toLocaleString()} ֏ (${method})`, 'success');
                    
                    // Reset form
                    document.getElementById('depositMethod').value = '';
                    document.getElementById('depositAmount').value = '';
                }, 2000);
            });
        }
        
        // Process withdraw
        function processWithdraw(event) {
            event.preventDefault();
            const amount = parseInt(document.getElementById('withdrawAmount').value);
            
            if (amount < 1000) {
                showNotification('Նվազագույն վերցումը 1000 ֏ է!', 'error');
                return;
            }
            
            if (amount > gameData.balance) {
                showNotification('Անբավարար մնացորդ!', 'error');
                return;
            }
            
            // Show processing animation
            showProcessingAnimation('Վերցումը մշակվում է...', () => {
                // Simulate blockchain processing
                setTimeout(() => {
                    gameData.balance -= amount;
                    saveGameData();
                    updateDisplay();
                    closeModal('withdrawModal');
                    showNotification(`✅ Վերցումը հաստատվել է ${amount.toLocaleString()} ֏`, 'success');
                    
                    // Reset form
                    document.getElementById('withdrawAmount').value = '';
                }, 2500);
            });
        }
        
        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification ' + (type === 'error' ? 'error' : '');
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Show processing animation
        function showProcessingAnimation(message, callback) {
            const processingDiv = document.createElement('div');
            processingDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 2000;
                color: white;
            `;
            
            processingDiv.innerHTML = `
                <div style="text-align: center;">
                    <div style="width: 60px; height: 60px; border: 4px solid #f3f3f3; border-top: 4px solid #007bff; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                    <div style="font-size: 1.2rem; font-weight: bold;">${message}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 10px;">Blockchain-ում հաստատվում է...</div>
                </div>
            `;
            
            // Add spin animation if not exists
            if (!document.getElementById('spinStyle')) {
                const style = document.createElement('style');
                style.id = 'spinStyle';
                style.textContent = `
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(processingDiv);
            
            // Execute callback and remove after processing
            callback();
            
            setTimeout(() => {
                if (processingDiv.parentNode) {
                    processingDiv.parentNode.removeChild(processingDiv);
                }
            }, 3000);
        }
        
        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
        
        // Auto-collect income every minute
        setInterval(collectPassiveIncome, 60000);
        
        // Update collect button timer every second
        setInterval(updateCollectButton, 1000);
        
        // Switch pages
        function switchPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageName + '-page').classList.add('active');
            
            // Add active class to selected nav item
            event.target.closest('.nav-item').classList.add('active');
        }
        
        // Copy referral link
        function copyReferralLink() {
            const referralLink = document.getElementById('referral-link').textContent;
            navigator.clipboard.writeText(referralLink).then(() => {
                showNotification('Հրավիրման հղումը պատճենվել է!', 'success');
            }).catch(() => {
                showNotification('Չհաջողվեց պատճենել', 'error');
            });
        }
        
        // Simulate referral reward (in real app this would come from server)
        function addReferral() {
            gameData.referrals += 1;
            gameData.collectedBirds.push({
                name: 'Հրավիրման հավիկ',
                icon: '🐓',
                income: 20,
                id: Date.now() + Math.random()
            });
            gameData.referralEarnings += 20;
            saveGameData();
            updateDisplay();
            showNotification('Նոր ընկեր է միացել! Ստացել եք 1 հավիկ!', 'success');
        }
        
        // Support functions
        function openSupportChat() {
            window.open('https://t.me/richbirds_support', '_blank', 'noopener,noreferrer');
        }
        
        function openFAQ() {
            showNotification('FAQ բաժինը շուտով կլինի հասանելի!', 'success');
        }
        
        function reportBug() {
            showNotification('Շնորհակալություն հաղորդման համար!', 'success');
        }
        
        function copyTelegram() {
            navigator.clipboard.writeText('@richbirds_support').then(() => {
                showNotification('Telegram հասցեն պատճենվել է!', 'success');
            }).catch(() => {
                showNotification('Չհաջողվեց պատճենել', 'error');
            });
        }
        
        // Profile functions
        function changeUsername() {
            const newName = prompt('Մուտքագրեք նոր անունը:');
            if (newName && newName.trim()) {
                gameData.username = newName.trim();
                document.getElementById('username').textContent = gameData.username;
                saveGameData();
                showNotification('Անունը փոխվել է!', 'success');
            }
        }
        
        function toggleNotifications() {
            const toggle = document.getElementById('notification-toggle');
            const status = document.getElementById('notification-status');
            
            toggle.classList.toggle('active');
            
            if (toggle.classList.contains('active')) {
                status.textContent = 'Միացված';
                showNotification('Ծանուցումները միացված են', 'success');
            } else {
                status.textContent = 'Անջատված';
                showNotification('Ծանուցումները անջատված են', 'success');
            }
        }
        
        function exportData() {
            const data = {
                balance: gameData.balance,
                birds: gameData.collectedBirds.length,
                referrals: gameData.referrals,
                totalEarned: gameData.totalEarned,
                joinDate: gameData.joinDate,
                username: gameData.username
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'richbirds_data.json';
            link.click();
            
            URL.revokeObjectURL(url);
            showNotification('Տվյալները ներբեռնվել են!', 'success');
        }
        
        // Update profile display
        function updateProfileDisplay() {
            document.getElementById('profile-balance').textContent = gameData.balance.toLocaleString() + ' ֏';
            document.getElementById('profile-earned').textContent = gameData.totalEarned.toLocaleString() + ' ֏';
            document.getElementById('username').textContent = gameData.username;
            document.getElementById('join-date').textContent = gameData.joinDate;
            updateProfilePictureDisplay();
        }
        
        // Update profile picture display
        function updateProfilePictureDisplay() {
            const profileImage = document.getElementById('profile-image');
            const profilePlaceholder = document.getElementById('profile-placeholder');
            
            if (gameData.profilePicture) {
                if (gameData.profilePictureType === 'url') {
                    profileImage.src = gameData.profilePicture;
                    profileImage.style.display = 'block';
                    profilePlaceholder.style.display = 'none';
                    
                    // Handle image load error
                    profileImage.onerror = function() {
                        this.style.display = 'none';
                        profilePlaceholder.style.display = 'block';
                        profilePlaceholder.textContent = '👤';
                    };
                } else {
                    profileImage.style.display = 'none';
                    profilePlaceholder.style.display = 'block';
                    profilePlaceholder.textContent = gameData.profilePicture;
                }
            } else {
                profileImage.style.display = 'none';
                profilePlaceholder.style.display = 'block';
                profilePlaceholder.textContent = '👤';
            }
        }
        
        // Change profile picture
        function changeProfilePicture() {
            document.getElementById('profilePictureModal').style.display = 'block';
            resetProfilePictureModal();
        }
        
        // Reset profile picture modal
        function resetProfilePictureModal() {
            document.getElementById('profileImageUrl').value = '';
            selectedProfilePicture = null;
            selectedProfileType = 'emoji';
            
            // Reset preview
            const previewImage = document.getElementById('preview-image');
            const previewPlaceholder = document.getElementById('preview-placeholder');
            previewImage.style.display = 'none';
            previewPlaceholder.style.display = 'block';
            previewPlaceholder.textContent = '👤';
            
            // Reset avatar selections
            document.querySelectorAll('.avatar-option').forEach(option => {
                option.style.border = '2px solid transparent';
            });
        }
        
        // Select avatar emoji
        function selectAvatar(emoji) {
            selectedProfilePicture = emoji;
            selectedProfileType = 'emoji';
            
            // Update preview
            const previewImage = document.getElementById('preview-image');
            const previewPlaceholder = document.getElementById('preview-placeholder');
            previewImage.style.display = 'none';
            previewPlaceholder.style.display = 'block';
            previewPlaceholder.textContent = emoji;
            
            // Clear URL input
            document.getElementById('profileImageUrl').value = '';
            
            // Update avatar selection visual
            document.querySelectorAll('.avatar-option').forEach(option => {
                option.style.border = '2px solid transparent';
            });
            event.target.style.border = '2px solid #4CAF50';
        }
        
        // Handle URL input change
        document.addEventListener('DOMContentLoaded', function() {
            const urlInput = document.getElementById('profileImageUrl');
            if (urlInput) {
                urlInput.addEventListener('input', function() {
                    const url = this.value.trim();
                    if (url) {
                        selectedProfilePicture = url;
                        selectedProfileType = 'url';
                        
                        // Update preview
                        const previewImage = document.getElementById('preview-image');
                        const previewPlaceholder = document.getElementById('preview-placeholder');
                        
                        previewImage.src = url;
                        previewImage.style.display = 'block';
                        previewPlaceholder.style.display = 'none';
                        
                        // Handle preview error
                        previewImage.onerror = function() {
                            this.style.display = 'none';
                            previewPlaceholder.style.display = 'block';
                            previewPlaceholder.textContent = '❌';
                        };
                        
                        // Clear avatar selections
                        document.querySelectorAll('.avatar-option').forEach(option => {
                            option.style.border = '2px solid transparent';
                        });
                    } else {
                        selectedProfilePicture = null;
                        selectedProfileType = 'emoji';
                        
                        // Reset preview
                        const previewImage = document.getElementById('preview-image');
                        const previewPlaceholder = document.getElementById('preview-placeholder');
                        previewImage.style.display = 'none';
                        previewPlaceholder.style.display = 'block';
                        previewPlaceholder.textContent = '👤';
                    }
                });
            }
        });
        
        // Save profile picture
        function saveProfilePicture() {
            if (selectedProfilePicture) {
                gameData.profilePicture = selectedProfilePicture;
                gameData.profilePictureType = selectedProfileType;
                saveGameData();
                updateProfilePictureDisplay();
                closeModal('profilePictureModal');
                showNotification('Պրոֆիլի նկարը պահպանվել է!', 'success');
            } else {
                showNotification('Ընտրեք նկար կամ մուտքագրեք հղում!', 'error');
            }
        }
        
        // Initialize game
        loadGameData();
        updateProfileDisplay();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ffaaec83e4728b',t:'MTc2MDcwMjc2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
